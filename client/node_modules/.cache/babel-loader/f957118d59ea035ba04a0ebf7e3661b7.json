{"ast":null,"code":"import _defineProperty from\"/home/centos/InventorySystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/centos/InventorySystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/centos/InventorySystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/centos/InventorySystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/centos/InventorySystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/centos/InventorySystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/centos/InventorySystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/centos/InventorySystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/centos/InventorySystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import swal from'sweetalert';import axios from'axios';import'./style.css';var AddProductToStore=/*#__PURE__*/function(_Component){_inherits(AddProductToStore,_Component);function AddProductToStore(props){var _this;_classCallCheck(this,AddProductToStore);_this=_possibleConstructorReturn(this,_getPrototypeOf(AddProductToStore).call(this,props));_this.handleSubmit=function _callee(event){var product_name,product_price,product_qty,product_img_url,product_comment,product_insert_response;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();product_name=_this.state.product_name;product_price=_this.state.product_price;product_qty=_this.state.product_qty;product_img_url=_this.state.product_img_url;product_comment=_this.state.product_comment;product_insert_response='';if(product_name===''){swal(\"Oops!\",\"Product Name is a required field.\",\"error\");}else if(product_price===''){swal(\"Oops!\",\"Product Price is a required field.\",\"error\");}else if(_this.isValidFloat(product_price)===false){swal(\"Oops!\",\"Enter a Valid Product Price. Example: 0.00\",\"error\");}else if(product_qty===''){swal(\"Oops!\",\"Product Qty is a required field.\",\"error\");}else if(product_img_url===''){swal(\"Oops!\",\"Product Image URL is a required field.\",\"error\");}if(!(product_name!==''&&product_price!==''&&_this.isValidFloat(product_price)===true&&product_qty!=='')){_context.next=20;break;}_context.prev=9;_context.next=12;return _regeneratorRuntime.awrap(axios.post(\"http://localhost:3001/api/products\",{product_name:product_name,product_price:product_price,product_image_url:product_img_url,product_comment:product_comment},{headers:{'Accept':'application/json'}}));case 12:product_insert_response=_context.sent;if(product_insert_response.status===200){swal(\"Success!\",\"A new product has been added!\",\"info\").then(function(value){window.location.href=\"/products\";});}_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](9);console.log(_context.t0);swal(\"Oops!\",\"Something went wrong adding this product.\",\"error\");// adding product to inventory depends on a successful product creation first\ncase 20:case\"end\":return _context.stop();}}},null,null,[[9,16]]);};_this.state={store_name:'',store_id:'',product_name:'',product_price:'',product_qty:100,product_img_url:'',product_comment:''};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleSelectChange=_this.handleSelectChange.bind(_assertThisInitialized(_this));_this.isValidFloat=_this.isValidFloat.bind(_assertThisInitialized(_this));return _this;}_createClass(AddProductToStore,[{key:\"componentDidMount\",value:function componentDidMount(){var store_name=this.props.match.params.store_name;var store_id=this.props.match.params.store_id;this.setState({store_name:store_name,store_id:store_id});}},{key:\"handleInputChange\",value:function handleInputChange(e){var _this2=this;var value=e.target.value;var name=e.target.name;this.setState(function(prevState){return _objectSpread({},prevState,_defineProperty({},name,value));},function(){return console.log(_this2.state);});}},{key:\"handleSelectChange\",value:function handleSelectChange(e){var _this3=this;var value=e.target.value;var name=e.target.name;this.setState(function(prevState){return _objectSpread({},prevState,_defineProperty({},name,value));},function(){return console.log(_this3.state);});}},{key:\"isValidFloat\",value:function isValidFloat(num){var regex=/^\\d*\\.?\\d*$/;if(regex.test(num)){return true;}return false;}},{key:\"render\",value:function render(){var _this4=this;return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(\"form\",{className:\"container-fluid\",encType:\"multipart/form-data\"},React.createElement(\"h2\",{className:\"header\"},\"Add New Product to Global Inventory\"),React.createElement(\"div\",{className:\"add_row\"},React.createElement(\"label\",null,\"Product Name  (*): \"),React.createElement(\"input\",{name:\"product_name\",type:\"text\",id:\"product_name\",className:\"form-control\",onChange:function onChange(e){return _this4.handleInputChange(e);},value:this.state.product_name,required:true})),React.createElement(\"div\",{className:\"add_row\"},React.createElement(\"label\",null,\"Suggested Retail Price  (*):\"),React.createElement(\"input\",{type:\"text\",id:\"product_price\",className:\"form-control\",name:\"product_price\",onChange:function onChange(e){return _this4.handleInputChange(e);},value:this.state.product_price,required:true})),React.createElement(\"div\",{className:\"add_row\"},React.createElement(\"label\",null,\"Product Image URL (optional):\"),React.createElement(\"input\",{type:\"text\",id:\"product_img_url\",className:\"form-control\",name:\"product_img_url\",onChange:function onChange(e){return _this4.handleInputChange(e);},value:this.state.product_img_url})),React.createElement(\"div\",{className:\"add_row\"},React.createElement(\"label\",null,\"Product Comments (optional):\"),React.createElement(\"input\",{type:\"text\",id:\"product_comment\",className:\"form-control\",name:\"product_comment\",onChange:function onChange(e){return _this4.handleInputChange(e);},value:this.state.product_comment})),React.createElement(\"div\",{className:\"add_store_action_btn_block\"},React.createElement(\"button\",{onClick:this.handleSubmit,className:\"btn btn-outline-primary action_btn\"},\"Submit\"),React.createElement(Link,{to:\"/products\"},React.createElement(\"button\",{className:\"btn btn-outline-danger action_btn\"},\"Cancel\")))));}}]);return AddProductToStore;}(Component);export default AddProductToStore;","map":{"version":3,"sources":["/home/centos/InventorySystem/client/src/containers/AddNewProduct/index.js"],"names":["React","Component","Link","swal","axios","AddProductToStore","props","handleSubmit","event","preventDefault","product_name","state","product_price","product_qty","product_img_url","product_comment","product_insert_response","isValidFloat","post","product_image_url","headers","status","then","value","window","location","href","console","log","store_name","store_id","handleInputChange","bind","handleSelectChange","match","params","setState","e","target","name","prevState","num","regex","test"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport './style.css';\n\nclass AddProductToStore extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            store_name: '',\n            store_id: '',\n            product_name: '',\n            product_price: '',\n            product_qty: 100,\n            product_img_url: '',\n            product_comment: ''\n        }\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleSelectChange = this.handleSelectChange.bind(this);\n        this.isValidFloat = this.isValidFloat.bind(this);\n    }\n\n    componentDidMount() {\n        const { store_name } = this.props.match.params;\n        const { store_id } = this.props.match.params;\n        this.setState({ store_name: store_name, store_id: store_id })\n    }\n\n    handleInputChange(e) {\n        let value = e.target.value;\n        let name = e.target.name;\n        this.setState(prevState => ({\n            ...prevState, [name]: value\n\n        }), () => console.log(this.state))\n    }\n\n    handleSelectChange(e) {\n        let value = e.target.value;\n        let name = e.target.name;\n        this.setState(prevState => ({\n            ...prevState, [name]: value\n\n        }), () => console.log(this.state))\n    }\n\n    isValidFloat(num) {\n        let regex = /^\\d*\\.?\\d*$/;\n        if (regex.test(num)) {\n            return true;\n        }\n        return false;\n    }\n\n    handleSubmit = async event => {\n        event.preventDefault();\n\n        let product_name = this.state.product_name;\n        let product_price = this.state.product_price;\n        let product_qty = this.state.product_qty;\n        let product_img_url = this.state.product_img_url;\n        let product_comment = this.state.product_comment;\n\n        let product_insert_response = '';\n\n        if (product_name === '') {\n            swal(\"Oops!\", \"Product Name is a required field.\", \"error\");\n        } else if (product_price === '') {\n            swal(\"Oops!\", \"Product Price is a required field.\", \"error\");\n        } else if (this.isValidFloat(product_price) === false) {\n            swal(\"Oops!\", \"Enter a Valid Product Price. Example: 0.00\", \"error\");\n        } else if (product_qty === '') {\n            swal(\"Oops!\", \"Product Qty is a required field.\", \"error\");\n        } else if (product_img_url === '') {\n            swal(\"Oops!\", \"Product Image URL is a required field.\", \"error\");\n        }\n\n        if (product_name !== '' && product_price !== '' && this.isValidFloat(product_price) === true && product_qty !== '') {\n            try {\n                 // add the new product to the products table\n                product_insert_response = await axios.post(`http://localhost:3001/api/products`, { product_name: product_name, product_price: product_price, product_image_url: product_img_url, product_comment: product_comment }, { headers: { 'Accept': 'application/json' } });\n                if (product_insert_response.status === 200) {\n                    swal(\"Success!\", \"A new product has been added!\", \"info\")\n                    .then((value) => {\n                        window.location.href = \"/products\"\n                    })\n                }\n            } catch (e) {\n                console.log(e);\n                swal(\"Oops!\", \"Something went wrong adding this product.\", \"error\"); // adding product to inventory depends on a successful product creation first\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"wrapper\">\n                <form className=\"container-fluid\" encType=\"multipart/form-data\">\n                    <h2 className=\"header\">Add New Product to Global Inventory</h2>\n      \n                    <div className=\"add_row\">\n                        <label>Product Name  (*): </label>\n                        <input\n                            name={\"product_name\"}\n                            type=\"text\"\n                            id=\"product_name\"\n                            className=\"form-control\"\n\n                            onChange={(e) => this.handleInputChange(e)}\n                            value={this.state.product_name}\n                            required\n                        />\n                    </div>\n                    <div className=\"add_row\">\n                        <label>Suggested Retail Price  (*):</label>\n                        <input\n                            type=\"text\"\n                            id=\"product_price\"\n                            className=\"form-control\"\n                            name={\"product_price\"}\n                            onChange={(e) => this.handleInputChange(e)}\n                            value={this.state.product_price}\n                            required\n                        />\n                    </div>\n                    <div className=\"add_row\">\n                        <label>Product Image URL (optional):</label>\n                        <input\n                            type=\"text\"\n                            id=\"product_img_url\"\n                            className=\"form-control\"\n                            name=\"product_img_url\"\n                            onChange={(e) => this.handleInputChange(e)}\n                            value={this.state.product_img_url}\n                        />\n                    </div>\n                    <div className=\"add_row\">\n                        <label>Product Comments (optional):</label>\n                        <input\n                            type=\"text\"\n                            id=\"product_comment\"\n                            className=\"form-control\"\n                            name=\"product_comment\"\n                            onChange={(e) => this.handleInputChange(e)}\n                            value={this.state.product_comment}\n                        />\n                    </div>\n                    <div className=\"add_store_action_btn_block\">\n                        <button onClick={this.handleSubmit} className=\"btn btn-outline-primary action_btn\">Submit</button>\n                        <Link to={`/products`}><button className=\"btn btn-outline-danger action_btn\">Cancel</button></Link>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default AddProductToStore;\n\n\n\n"]},"metadata":{},"sourceType":"module"}