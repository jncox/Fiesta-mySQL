{"ast":null,"code":"var _jsxFileName = \"/Users/sharon.santana/Desktop/prod_projects/InventorySystem/client/src/containers/ViewStoreDetails/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './style.css';\n\nclass ViewStore extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getProducts = async () => {\n      const store_id = this.props.match.params.store_id;\n\n      try {\n        // get all the products of this store\n        const products_res = await axios.get(`/api/stores/products/${store_id}`);\n\n        if (products_res.data.length > 0) {\n          this.setState({\n            isStoreEmpty: false,\n            store_products: products_res.data\n          });\n        }\n      } catch (e) {\n        console.log(e);\n      }\n\n      try {\n        // get the store info for a particular store\n        const products_res = await axios.get(`/api/stores/${store_id}`);\n\n        if (products_res.data.length > 0) {\n          this.setState({\n            store_id: store_id,\n            store_name: products_res.data[0].store_name\n          });\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.toggleState = () => {\n      let toggleObj = this.state.store_products.map(inventory => inventory.id);\n    };\n\n    this.handleDelete = (event, id) => {\n      event.preventDefault(); // handle the deletion of a store's product entry in the DB\n\n      axios.delete(`http://localhost:3001/api/inventory/${id}`, {\n        headers: {\n          'Accept': 'application/json'\n        }\n      }).then(response => {\n        //remove it from store products\n        let updatedProducts = this.state.store_products.filter(prod => prod.inventory_id !== id);\n        this.setState({\n          store_products: updatedProducts\n        });\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    this.state = {\n      store_name: '',\n      store_products: [],\n      store_id: '',\n      quantity: '',\n      local_price: '',\n      comments: '',\n      isStoreEmpty: true\n    };\n    this.getProducts = this.getProducts.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  async componentDidMount() {\n    // this.getComments();\n    this.getProducts();\n  }\n\n  render() {\n    let inventory = this.state.store_products.map(inventory => React.createElement(\"div\", {\n      className: \"store_row\",\n      key: inventory.inventory_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"store_col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, inventory.product_name), React.createElement(\"div\", {\n      className: \"store_col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"$\", inventory.local_price.toFixed(2)), React.createElement(\"div\", {\n      className: \"store_col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, inventory.quantity), React.createElement(\"div\", {\n      className: \"store_col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, inventory.comment), React.createElement(\"div\", {\n      id: \"action_btn_block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"add_btn_store\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/store/products/${inventory.inventory_id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-outline-primary action_btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Update\"))), React.createElement(\"button\", {\n      onClick: e => this.handleDelete(e, inventory.inventory_id),\n      type: \"submit\",\n      className: \"btn btn-outline-danger action_btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Delete\"))));\n    let storeDetailsForm = React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"store_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"store_row_header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Local Price\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Local Quantity\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Comments\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Actions\")), inventory));\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Store Details Page\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Store Name: \", this.state.store_name), React.createElement(\"div\", {\n      id: \"add_btn_store\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/products/add/${this.state.store_name}/${this.state.store_id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-outline-primary action_btn_store\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Add New Store Product\"))), this.state.isStoreEmpty ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"*** This store does not have any products associated. Please \", React.createElement(Link, {\n      to: `/products/add/${this.state.store_name}/${this.state.store_id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"add\"), \" some merchandise or \", React.createElement(Link, {\n      to: `/stores`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"return\"), \" to the stores page. *** \") : storeDetailsForm);\n  }\n\n}\n\nexport default ViewStore;","map":{"version":3,"sources":["/Users/sharon.santana/Desktop/prod_projects/InventorySystem/client/src/containers/ViewStoreDetails/index.js"],"names":["React","Component","Link","axios","ViewStore","constructor","props","getProducts","store_id","match","params","products_res","get","data","length","setState","isStoreEmpty","store_products","e","console","log","store_name","toggleState","toggleObj","state","map","inventory","id","handleDelete","event","preventDefault","delete","headers","then","response","updatedProducts","filter","prod","inventory_id","catch","quantity","local_price","comments","bind","componentDidMount","render","product_name","toFixed","comment","storeDetailsForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './style.css';\n\nclass ViewStore extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            store_name: '',\n            store_products: [],\n            store_id: '',\n            quantity: '',\n            local_price: '',\n            comments: '',\n            isStoreEmpty: true\n        }\n        this.getProducts = this.getProducts.bind(this);\n        this.handleDelete = this.handleDelete.bind(this);\n    }\n\n    async componentDidMount() {\n        // this.getComments();\n        this.getProducts();\n    }\n\n    getProducts = async () => {\n        const { store_id } = this.props.match.params;\n        try {\n            // get all the products of this store\n            const products_res = await axios.get(`/api/stores/products/${store_id}`);\n            if (products_res.data.length > 0) {\n                this.setState({ isStoreEmpty: false, store_products: products_res.data });\n            }\n        } catch (e) {\n            console.log(e);\n        }\n\n        try {\n            // get the store info for a particular store\n            const products_res = await axios.get(`/api/stores/${store_id}`);\n            if (products_res.data.length > 0) {\n                this.setState({ store_id: store_id, store_name: products_res.data[0].store_name });\n            }\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    toggleState = () => {\n        let toggleObj = this.state.store_products.map(inventory => (inventory.id:false ))\n    }\n\n    handleDelete = (event, id) => {\n        event.preventDefault();\n\n        // handle the deletion of a store's product entry in the DB\n        axios.delete(`http://localhost:3001/api/inventory/${id}`, { headers: { 'Accept': 'application/json' } })\n            .then(response => {\n                //remove it from store products\n                let updatedProducts = this.state.store_products.filter(prod => prod.inventory_id !== id)\n                this.setState({ store_products: updatedProducts })\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }\n\n    render() {\n        let inventory =\n            this.state.store_products.map(inventory => (\n                <div className=\"store_row\" key={inventory.inventory_id}>\n                    <div className=\"store_col\">\n                        {inventory.product_name}\n                    </div>\n                    <div className=\"store_col\">\n                        ${inventory.local_price.toFixed(2)}\n                    </div>\n                    <div className=\"store_col\">\n                        {inventory.quantity}\n                    </div>\n                    <div className=\"store_col\">\n                    {inventory.comment} \n                    </div>\n                    <div id=\"action_btn_block\">\n                        <div id=\"add_btn_store\"><Link to={`/store/products/${inventory.inventory_id}`}><button className=\"btn btn-outline-primary action_btn\">Update</button></Link></div>\n                        <button onClick={(e) => this.handleDelete(e, inventory.inventory_id)} type=\"submit\" className=\"btn btn-outline-danger action_btn\">Delete</button>\n                    </div>\n                </div>\n            ));\n\n        let storeDetailsForm =\n            <form>\n                <div className=\"store_container\">\n                    <div className=\"store_row_header\">\n                        <h3>Name</h3>\n                        <h3>Local Price</h3>\n                        <h3>Local Quantity</h3>\n                        <h3>Comments</h3>\n                        <h3>Actions</h3>\n                    </div>\n                    {inventory}\n                </div>\n            </form>\n\n        return (\n            <div className=\"wrapper\">\n                <h2 className=\"header\">Store Details Page</h2>\n                <h3>Store Name: {this.state.store_name}</h3>\n                <div id=\"add_btn_store\"><Link to={`/products/add/${this.state.store_name}/${this.state.store_id}`}><button className=\"btn btn-outline-primary action_btn_store\">Add New Store Product</button></Link></div>\n                {this.state.isStoreEmpty ? <div>*** This store does not have any products associated. Please <Link to={`/products/add/${this.state.store_name}/${this.state.store_id}`}>add</Link> some merchandise or <Link to={`/stores`}>return</Link> to the stores page. *** </div> : storeDetailsForm}\n            </div>\n        )\n    }\n}\n\nexport default ViewStore;"]},"metadata":{},"sourceType":"module"}